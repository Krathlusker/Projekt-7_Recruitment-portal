// =============================================================================
// EL-FORM ELEMENTS
// =============================================================================
// Input, select, switch og dialog styling.
// Inkluderer focus styling og optisk vertikal centrering.

@use 'sass:math';
@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

// Gul focus ring for accessibility
$input-offset: math.div((-0.5 - $font-body-cap-height) - $font-body-descender, 2);
$select-offset: math.div((-0.5 - $font-body-cap-height) - $font-body-descender, 2);
$dropdown-offset: math.div((1.25 - $font-body-cap-height) - $font-body-descender, 2);

// Input felter
.el-input__inner,
.el-textarea__inner {
	padding-top: #{$input-offset}em !important;
	font-size: $font-size-input !important; // Prevent iOS Safari auto-zoom
}

// Input wrapper styling
.el-input__wrapper {
	border-radius: $border-radius-sm !important;
}

// Select input og placeholder
.el-select__input {
	padding-top: #{$select-offset}em !important;
}

.el-select__placeholder span,
.el-select__selected-item {
	transform: translateY(#{$select-offset}em);
}

.el-select__wrapper {
	border-radius: $border-radius-sm !important;
}

.el-select__input,
.el-select__placeholder {
	font-size: $font-size-input !important; // Prevent iOS Safari auto-zoom
}

// Dropdown items
.el-select-dropdown__item {
	font-size: $font-size-input !important; // Match input font-size

	span {
		display: inline-block;
		transform: translateY(#{$dropdown-offset}em);
	}

	&.is-selected {
		color: $c-primary;
		background-color: $c-warning;
	}
}

// Input/Select focus (kun keyboard, ikke touch)
.el-input__wrapper:has(:focus-visible),
.el-select__wrapper:has(:focus-visible),
.el-textarea__inner:focus-visible {
	box-shadow: inset 0 0 0 1px $c-warning !important;
	border-color: $c-warning !important;
}

// Upload focus
.el-upload:focus-visible {
	outline: none;
	box-shadow: inset 0 0 0 2px $c-warning !important;
	background-color: rgba($c-primary, 0.05);
}

// Switch focus (kun keyboard, ikke touch)
.el-switch.is-checked {
	--el-switch-on-color: #f1db53;
}

.el-switch:has(:focus-visible) .el-switch__core {
	outline: 2px solid $c-warning;
	outline-offset: 2px;
}

// Tooltip styling - overskriver Element Plus CSS custom properties
.el-popper.is-light {
	--el-popper-bg-color-light: #ffffff;
	color: $c-primary;
}

// Age hint tooltip (ApplicationModal alder-felt)
.age-hint-tooltip {
	font-size: $font-size-body;
	line-height: 1.4;
	font-style: italic;
	font-weight: 600;
	box-shadow: $shadow-card;
	z-index: 10;
}
