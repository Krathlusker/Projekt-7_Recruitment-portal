// =============================================================================
// EL-FORM ELEMENTS
// =============================================================================
// Input, select, switch og dialog styling.
// Inkluderer focus styling og optisk vertikal centrering.

@use 'sass:math';
@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

// Gul focus ring for accessibility
$input-offset: math.div((-0.5 - $font-body-cap-height) - $font-body-descender, 2);
$select-offset: math.div((-0.5 - $font-body-cap-height) - $font-body-descender, 2);
$dropdown-offset: math.div((1.25 - $font-body-cap-height) - $font-body-descender, 2);

// Input felter
.el-input__inner,
.el-textarea__inner {
	padding-top: #{$input-offset}em !important;
	font-size: 16px !important; // Prevent iOS Safari auto-zoom
}

// Input wrapper styling
.el-input__wrapper {
	border-radius: $border-radius-sm !important;
}

// Select input og placeholder
.el-select__input {
	padding-top: #{$select-offset}em !important;
}

.el-select__placeholder span,
.el-select__selected-item {
	transform: translateY(#{$select-offset}em);
}

.el-select__wrapper {
	border-radius: $border-radius-sm !important;
}

.el-select__input,
.el-select__placeholder {
	font-size: 16px !important; // Prevent iOS Safari auto-zoom
}

// Dropdown items
.el-select-dropdown__item span {
	display: inline-block;
	transform: translateY(#{$dropdown-offset}em);
}

.el-select-dropdown__item.is-selected {
	color: $c-primary;
	background-color: $c-warning;
}

// Input/Select focus
.el-input.is-focus .el-input__wrapper,
.el-input__wrapper:focus-within,
.el-select .el-input.is-focus .el-input__wrapper,
.el-textarea__inner:focus {
	box-shadow: inset 0 0 0 1px $c-warning !important;
	border-color: $c-warning !important;
}

// Switch focus
.el-switch.is-checked {
	--el-switch-on-color: #f1db53;
}

.el-switch:focus .el-switch__core {
	outline: 2px solid $c-warning;
	outline-offset: 2px;
}

// Prevent layout shift when modal opens and body scroll is disabled
body.modal-open {
	overflow: hidden;
	padding-right: var(--scrollbar-width, 0);
}

// Global Element Plus dialog (modal) styling
// Max 950px bred p√• PC/tablet, altid luft til siderne
.el-dialog {
	max-width: 950px;
	width: calc(100% - #{$spacing-lg * 2}) !important;
	margin: $spacing-lg auto;
	border-radius: $border-radius-lg !important;
	box-shadow: $shadow-modal !important;
}

// Tooltip styling - overskriver Element Plus CSS custom properties
.el-popper.is-light {
	--el-popper-bg-color-light: #ffffff;
	color: $c-primary;
}

// Element Plus text alignment
.el-text {
	align-self: normal;
}
